# AFL++ Fuzzing Harness Configuration
# Environment variables read by the harness

[Required]
# Base directory of the fuzzing project
# Crash logs written to: {PROJECT_ROOT}/workdir/logs/crash
PROJECT_ROOT=/home/robin/HAVEN/Fuzz

[Toolchain]
# Path to RISC-V objdump for disassembly of crash artifacts
# Default: /opt/riscv/bin/riscv32-unknown-elf-objdump
OBJDUMP=/opt/riscv/bin/riscv32-unknown-elf-objdump

# ISA register width (32 or 64 bits)
# Default: 32
XLEN=32

# Path to RISC-V linker binary
LD_BIN=/opt/riscv/bin/riscv32-unknown-elf-ld

# Path to linker script
LINKER_SCRIPT=/home/robin/HAVEN/Fuzz/tools/link.ld

[Execution Limits]
# Maximum clock cycles per test case before timeout
# Default: 10000, Range: 5000-100000
# Reduced for faster fuzzing iterations with Spike golden model
MAX_CYCLES=1000

# Maximum instructions at same PC before declaring timeout
# Detects infinite loops
# Default: 512, Range: 100-1000
PC_STAGNATION_LIMIT=512

# Maximum input size in 32-bit words (words Ã— 4 = bytes)
# Default: 256 (1024 bytes), Range: 64-512
MAX_PROGRAM_WORDS=517

[Differential Testing]
# Stop DUT when golden model (Spike) completes
# Values: 0/1, false/true, f/t, n/y, no/yes (case-insensitive)
# Default: true
STOP_ON_SPIKE_DONE=true
# Golden model operating mode: live | off | batch | replay
# Temporarily disable for faster fuzzing
GOLDEN_MODE=live



# Path to Spike binary used as golden reference
SPIKE_BIN=/opt/riscv/bin/spike

# ISA string passed to Spike (rv32im / rv32imc / rv64gc, etc.)
SPIKE_ISA=rv32im

# Optional proxy kernel binary path (leave empty to disable)
PK_BIN=

[Exit Detection]
# Memory-mapped register address for program exit signaling
# Enables tohost-based exit detection (RISC-V test convention)
# Format: hex (0x...) or decimal
# Default: 0x80001000
TOHOST_ADDR=0x80001000

[Tracing]
# Enable per-instruction tracing for DUT and golden model (on | off)
TRACE_MODE=on

# Spike log output path (absolute or relative to PROJECT_ROOT)
SPIKE_LOG_FILE=workdir/logs/spike.log

[Harness]
# Execution backend for harness: verilator | fpga
EXEC_BACKEND=verilator
